/*! ng-formio v4.14.0 | https://unpkg.com/ngFormio@4.14.0/LICENSE.txt */
!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("formiojs")):"function"==typeof define&&define.amd?define(["formiojs"],e):"object"==typeof exports?exports.ngformio=e(require("formiojs")):o.ngformio=e(o.formiojs)}(window,(function(o){return function(o){var e={};function r(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return o[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=o,r.c=e,r.d=function(o,e,t){r.o(o,e)||Object.defineProperty(o,e,{enumerable:!0,get:t})},r.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(o,e){if(1&e&&(o=r(o)),8&e)return o;if(4&e&&"object"==typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var n in o)r.d(t,n,function(e){return o[e]}.bind(null,n));return t},r.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(e,"a",e),e},r.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},r.p="",r(r.s=2)}([function(e,r){e.exports=o},function(o,e,r){"use strict";r.r(e);r(3),r(7),r(4),r(5),r(6);var t=r(0);for(var n in t)"default"!==n&&function(o){r.d(e,o,(function(){return t[o]}))}(n)},function(o,e,r){"use strict";r.r(e);r(8);var t=r(1);for(var n in t)"default"!==n&&function(o){r.d(e,o,(function(){return t[o]}))}(n)},function(o,e,r){"use strict";angular.module("formio",[])},function(o,e,r){"use strict";var t=r(0);const n=angular.module("formio");n.config(["$httpProvider","$injector",function(o,e){o.defaults.headers.get||(o.defaults.headers.get={});try{e.get("$animateProvider").classNameFilter(/^((?!(fa-spinner|glyphicon-spin)).)*$/)}catch(o){}o.defaults.headers.get["Cache-Control"]="no-cache",o.defaults.headers.get.Pragma="no-cache",o.interceptors.push("formioInterceptor")}]);n.provider("Formio",(function(){return{setBaseUrl:t.Formio.setBaseUrl,getBaseUrl:t.Formio.getBaseUrl,setApiUrl:t.Formio.setBaseUrl,getApiUrl:t.Formio.getBaseUrl,setAppUrl:t.Formio.setAppUrl,setProjectUrl:t.Formio.setProjectUrl,getAppUrl:t.Formio.getAppUrl,getProjectUrl:t.Formio.getProjectUrl,registerPlugin:t.Formio.registerPlugin,getPlugin:t.Formio.getPlugin,providers:t.Formio.providers,setDomain:function(){},$get:["$rootScope","$q",function(o,e){var r=function(r){return e.when(r).catch((function(e){throw"Unauthorized"===e?o.$broadcast("formio.unauthorized",e):"Login Timeout"===e&&o.$broadcast("formio.sessionExpired",e),e}))};t.Formio.registerPlugin({priority:-100,wrapRequestPromise:r,wrapStaticRequestPromise:r},"ngFormioPromiseWrapper");const n=function(e){var r=o.$root.$$phase;"$apply"==r||"$digest"==r?e&&"function"==typeof e&&e():o.$apply(e)};return t.Formio.events.onAny((function(){var e="formio."+this.event,r=[].splice.call(arguments,0);r.unshift(e);try{n((function(){o.$broadcast.apply(o,r)}))}catch(o){console.log(o)}})),t.Formio}]}}));angular.module("formio").provider("formioComponents",(function(){var o=t.Components.components,e={__component:{title:"Basic Components"},advanced:{title:"Special Components"},layout:{title:"Layout Components"}};return{addGroup:function(o,e){console.warn("formioComponents is deprecated")},register:function(o,e,r){console.warn("formioComponents is deprecated")},$get:function(){return{components:o,groups:e}}}}));angular.module("formio").factory("formioInterceptor",["$q","$rootScope","Formio",function(o,e,r){return{response:function(o){var e=o.headers("x-jwt-token");return o.status>=200&&o.status<300&&e&&""!==e&&r.setToken(e),o},responseError:function(t){return 440===parseInt(t.status,10)?(t.loggedOut=!0,r.setToken(null),e.$broadcast("formio.sessionExpired",t.body)):401===parseInt(t.status,10)&&e.$broadcast("formio.unauthorized",t.body),o.reject(t)},request:function(o){if(o.disableJWT)return o;var e=r.getToken();return e&&(o.headers["x-jwt-token"]=e),o}}}]);angular.module("formio").factory("FormioUtils",(function(){return Object.assign({hideFields:function(o,e){this.eachComponent(o.components,(function(o){for(var r in e)o.key===e[r]&&(o.type="hidden")}))},uniqueName:function(o){var e=o.toLowerCase().replace(/[^0-9a-z\.]/g,"").split("."),r=e[0],t="";return e.length>1&&(t="."+e[e.length-1]),r.substr(0,10)+"-"+this.guid()+t},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(o){var e=16*Math.random()|0;return("x"===o?e:3&e|8).toString(16)}))},fieldWrap:function(o){return o}},t.Utils)}))},function(o,e,r){"use strict";var t=r(0);angular.module("formio").directive("formio",(function(){return{restrict:"E",replace:!0,scope:{src:"=?",url:"=?",form:"=?",submission:"=?",readOnly:"=?",hideComponents:"=?",noSubmit:"=?",options:"<?"},link:function(o,e){o.element=e[0],o.formioReady=!1,o.initialized=!1,o.options=o.options||{},o.noSubmit=!!o.noSubmit},controller:["$scope","$q",function(o,e){o.onLoad=e.defer(),o.onFormio=o.onLoad.promise,o.initializeForm=function(){o.element&&(o.options.hasOwnProperty("readOnly")||void 0===o.readOnly||(o.options.readOnly=o.readOnly),!o.options.hasOwnProperty("hide")&&o.hideComponents&&(o.options.hide=o.hideComponents.reduce((o,e)=>(o[e]=!0,o),{})),o.src&&-1===o.src.indexOf("live=")&&(o.src+=-1===o.src.indexOf("?")?"?":"&",o.src+="live=1"),(o.src||o.form)&&(o.initialized=!0,t.Formio.createForm(o.element,o.src||o.form,_.cloneDeep(o.options)).then(e=>{e.nosubmit=o.noSubmit,o.$emit("formLoad",e.wizard?e.wizard:e.form),o.formio=e,o.setupForm()})))},o.setupForm=function(){return o.submission&&(o.formio.submission=angular.copy(o.submission)),o.url&&(o.formio.url=o.url,o.formio.nosubmit=o.noSubmit||!1),o.formio.events.onAny((function(){const e=Array.prototype.slice.call(arguments),r=e[0].split(".");let t=!0;if("formio"===r[0]&&2===r.length){switch(e[0]=r[1],r[1]){case"error":e[0]="formError";break;case"submit":e[0]=o.formio.nosubmit||!o.formio._src?"formSubmission":"formSubmit";break;case"submitDone":e[0]="formSubmission";break;case"prevPage":e[0]="wizardPrev";break;case"nextPage":e[0]="wizardNext";break;case"customEvent":e[0]=e[1].type,e[1].component&&"button"===e[1].component.type&&"event"===e[1].component.action&&(t=!1)}t&&o.$emit.apply(o,e)}})),o.formioReady=!0,o.onLoad.resolve(o.formio),o.formio},o.$watch("src",e=>{e&&(o.formioReady?o.formio.src=e:o.initialized?o.onFormio.then(()=>o.formio.src=e):o.initializeForm())}),o.$watch("url",e=>{e&&(o.formioReady?(o.formio.url=e,o.formio.nosubmit=o.noSubmit||!1):o.initialized?o.onFormio.then(()=>{o.formio.url=e,o.formio.nosubmit=o.noSubmit||!1}):o.initializeForm())}),o.$watch("form",e=>{e&&e.components&&(o.formioReady?o.formio.form=e:o.initialized?o.onFormio.then(()=>o.formio.form=e):o.initializeForm())}),o.$watch("submission",e=>{e&&!o.nowatch?o.onFormio.then(()=>o.formio.submission=angular.copy(e)):o.nowatch=!1},!0),o.$on("change",(function(){o.nowatch=!0,angular.merge(o.submission,o.formio.submission),o.$apply()})),o.$on("$destroy",(function(){o.formio&&o.formio.destroy(!0)})),o.initializeForm()}],template:"<div />"}})),angular.module("formio").directive("formBuilder",(function(){return{restrict:"E",replace:!0,scope:{url:"=?",form:"=?",options:"<"},link:function(o,e){o.initBuilder(e[0])},controller:["$scope",function(o){let e=null,r=null,n=null;o.options=o.options||{},o.initBuilder=i=>{n=i,n.innerHTML="",e=new t.Formio.FormBuilder(n,o.form,o.options),e.ready.then(()=>{e.instance.on("change",r=>{r.data||o.$emit("formChange",e.instance.schema)}),e.instance.onAny((e,...r)=>{o.$emit(e,...r)})}),r=e.ready},o.display=o.form.display,o.$watch("form.display",t=>{r&&t&&r.then(()=>{t!==o.display&&e.setDisplay(t),o.display=t})}),o.$watch("form",t=>{t&&t.components&&r&&r.then(()=>{o.url&&(e.instance.url=o.url),e.setForm(t)})}),o.$on("$destroy",(function(){e&&e.instance&&e.instance.destroy(!0)}))}],template:"<div/>"}}));angular.module("formio").directive("formioDelete",(function(){return{restrict:"E",replace:!0,scope:{form:"=?",submission:"=?",src:"=?",formAction:"=?",resourceName:"=?",message:"=?",options:"=?"},template:'<form role="form">\n        <div ng-repeat="alert in formioAlerts track by $index" class="alert alert-{{ alert.type }}" role="alert">\n          {{ alert.message | formioTranslate:null:options.building }}\n        </div>\n        <h3>{{ deleteMessage | formioTranslate:null:options.building }}</h3>\n        <div class="btn-toolbar">\n          <button ng-click="onDelete()" class="btn btn-danger">{{ \'Yes\' | formioTranslate:null:options.building }}</button>\n          <button ng-click="onCancel()" class="btn btn-default">{{ \'No\' | formioTranslate:null:options.building }}</button>\n        </div>\n      </form>',controller:["$scope","$element","$http","FormioScope",function(o,e,r,n){o.options=o.options||{},o.formioAlerts=[],o.showAlerts=function(e){o.formioAlerts=[].concat(e)};var i="",s="";o.$watch("src",e=>{if(e){o.formio=new t.Formio(e);var r=(i=o.formio.submissionId?"submission":"form").charAt(0).toUpperCase()+i.slice(1);s="delete"+r,o.deleteMessage=o.message||"Are you sure you wish to delete the "+i+"?"}}),o.$watch("resourceName",o=>{o&&(i=o)}),o.$watch("formAction",(function(e){e&&(o.action=e,o.deleteMessage=o.message||"Are you sure you wish to delete the "+i+"?")})),o.onDelete=function(){var a=(i=i||"resource").charAt(0).toUpperCase()+i.slice(1),u=function(e){o.showAlerts({type:"success",message:a+" was deleted."}),t.Formio.clearCache(),o.$emit("delete",e)};if(o.action)r.delete(o.action).then(u,n.onError(o,e));else if(o.formio){if(!s)return;if("function"!=typeof o.formio[s])return;o.formio[s]().then(u,n.onError(o,e))}},o.onCancel=function(){o.$emit("cancel")}}]}}))},function(o,e,r){"use strict";var t=r(0);angular.module("formio").factory("FormioScope",(function(){return{onError:function(o,e){return function(r){if("ValidationError"===r.name&&e){var t=e.find("#form-group-"+r.details[0].path);t.addClass("has-error");var n="ValidationError: "+r.details[0].message;o.showAlerts({type:"danger",message:n}),o.$on("formSubmit",(function(){t.removeClass("has-error")}))}else r instanceof Error?r=r.toString():"object"==typeof r&&(r=JSON.stringify(r)),o.showAlerts({type:"danger",message:r});o.$emit("formError",r)}}}}));angular.module("formio").factory("formioTableView",[function(){return function(o,e){if(!o&&0!==o&&!1!==o)return"";if(!e||!e.input||!e.type)return o;const r=t.Components.create(e,{readOnly:!0,viewAsHtml:!0});if(!r.getView)return o;if(e.multiple&&o.length>0){var n=[];return angular.forEach(o,(function(o){n.push(r.getView(o))})),n}return r.getView(o)}}])},function(o,e,r){"use strict";r(0);angular.module("formio").filter("formioTranslate",["$filter","$injector",function(o,e){var r=function(o,r,t){var n,i;if(e.has("$translate")?n=e.get("$translate"):e.has("gettextCatalog")&&(i=e.get("gettextCatalog")),t)return o;try{var s=function(o){return n?n.instant(o):i?i.getString(o):o};if(r){var a=s(r);return a===r&&(a=s(o)),a}return s(o)}catch(e){return o}};return r.$stateful=!0,r.use=function(o){e.has("$translate")&&e.get("$translate").use(o)},r}])},function(o,e){}])}));
//# sourceMappingURL=ng-formio.min.js.map